<HelloScreen>:
    name: 'hello'
    MDNavigationLayout:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: 'vertical'

                    BoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: dp(56)  # Adjust height to match the app bar
                        canvas.before:
                            Color:
                                rgba: app.theme_cls.primary_color
                            Rectangle:
                                size: self.size
                                pos: self.pos

                        MDLabel:
                            id: greeting_label
                            text: ""
                            halign: 'left'
                            valign: 'middle'
                            size_hint_y: None
                            height: dp(56)  # Adjust height to match the app bar
                            font_style: 'H6'
                            font_name: 'Roboto-Bold'
                            theme_text_color: 'Custom'
                            text_color: 1, 1, 1, 1  # White text color for visibility

                        Widget:  # Spacer to push the menu button to the right
                            size_hint_x: 1

                        MDIconButton:
                            icon: 'menu'
                            on_release: nav_drawer.set_state("open")
                            theme_text_color: 'Custom'
                            text_color: 1, 1, 1, 1  # White text color for visibility

                    MDBoxLayout:
                        orientation: 'vertical'
                        padding: dp(10)
                        spacing: dp(10)
                        
                        MDBoxLayout:
                            orientation: 'vertical'
                            size_hint_y: None 
                            height: dp(70)  
                            ScrollView:
                                id: calendar_scroll
                                size_hint_y: None
                                height: dp(70) 
                                pos_hint: {'center_y': 0.6}
                                do_scroll_x: True
                                MDBoxLayout:
                                    id: calendar_bar
                                    orientation: 'horizontal'
                                    size_hint_x: None
                                    spacing: dp(5)
                                    padding: [dp(10), dp(20), dp(10), dp(10)]
                                    size_hint_y: None
                                    height: dp(80)
                                    width: self.minimum_width

                        
                        MDBoxLayout:
                            id: navigation_buttons
                            orientation: 'horizontal'
                            size_hint_y: None
                            height: dp(50)
                            spacing: dp(10)

                        ScrollView:
                            id: schedule_scroll
                            size_hint_y: 1
                            do_scroll_y: True

                            BoxLayout:
                                id: schedule_box
                                orientation: 'vertical'
                                size_hint_y: None
                                height: self.minimum_height
                                spacing: dp(10)

                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint_y: None
                            height: dp(190)  # Overall height of the container layout
                            padding: dp(10)  # Padding around the layout
                            spacing: dp(10)   # Space between card and image

                            # MDCard on the left
                            AnchorLayout:
                                anchor_x: 'center'
                                anchor_y: 'bottom'  # Align the card to the bottom

                                MDCard:
                                    size_hint: None, None
                                    size: dp(150), dp(50)  # Smaller width for the MDCard
                                    padding: dp(8)
                                    md_bg_color: app.theme_cls.primary_light  # Use theme color for the background
                                    radius: [50]  # Rounded corners

                                    BoxLayout:
                                        orientation: 'horizontal'
                                        spacing: dp(10)
                                        
                                        MDIcon:
                                            icon: 'calendar-plus'
                                            theme_text_color: 'Primary'
                                            halign: 'center'
                                        
                                        MDFlatButton:
                                            on_press: root.show_add_schedule_dialog()
                                            text: 'Add Schedule'
                                            size_hint: None, None
                                            width: dp(80)  # Adjusted width for the button
                                            height: dp(40)
                                            theme_text_color: 'Primary'
                                            halign: 'center'

                            # Image on the right, slightly raised above the MDCard
                            AnchorLayout:
                                anchor_x: 'center'
                                anchor_y: 'top'  # Raise the image to the top

                                Image:
                                    source: 'DSEBApp-master/photo/photo6.png'
                                    size_hint: None, None
                                    size: dp(200), dp(200)  # Adjust the size as needed
                                    allow_stretch: True
                                    keep_ratio: True
                                    pos_hint: {'center_y': 1.2}  # Raise the image higher

                    BoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: None
                        height: dp(45)  # Adjust height to match the app bar
                        canvas.before:
                            Color:
                                rgba: app.theme_cls.primary_color  # Background color
                            Rectangle:
                                size: self.size
                                pos: self.pos

                        # Centered Icon Button in the Bottom Bar
                        MDIconButton:
                            icon: 'arrow-left-bottom'
                            on_press: app.switch_screen('login')
                            size_hint: None, None
                            size: dp(30), dp(30)  # Adjust icon button size as needed
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}  # Center the icon in the bar

                        
        MDNavigationDrawer:
            id: nav_drawer
            anchor: 'right'
            
            BoxLayout:
                orientation: 'vertical'
                padding: dp(8)
                spacing: dp(8)
            
                Image:
                    source: 'DSEBApp-master\photo\photo3.png'
                    size_hint_y: None
                    height: dp(150)  # Adjust the height as needed
                    allow_stretch: True
                    keep_ratio: True
            
                
                Image:
                    source: 'DSEBApp-master\photo\photo5.png'
                    size_hint_y: None
                    height: dp(150)  # Adjust the height as needed
                    allow_stretch: True
                    keep_ratio: True
                
                BoxLayout:
                    orientation: 'vertical'
                    spacing: dp(10)
                    padding: dp(10)

                    MDCard:
                        size_hint_y: None
                        height: dp(48)
                        padding: dp(8)
                        md_bg_color: app.theme_cls.primary_light  # Background color for the button
                        BoxLayout:
                            orientation: 'horizontal'
                            MDIcon:
                                icon: 'account'
                                theme_text_color: 'Primary'
                            MDFlatButton:
                                on_release: app.switch_screen('account')
                                text: 'Account'
                                size_hint_y: None
                                theme_text_color: 'Primary'
                                halign: 'left'

                    MDCard:
                        size_hint_y: None
                        height: dp(48)
                        padding: dp(8)
                        md_bg_color: app.theme_cls.primary_light  # Background color for the button
                        BoxLayout:
                            orientation: 'horizontal'
                            MDIcon:
                                icon: 'calendar'
                                theme_text_color: 'Primary'
                            MDFlatButton:
                                on_release: app.switch_screen('deadlines')
                                text: 'Deadlines'
                                size_hint_y: None
                                theme_text_color: 'Primary'
                                halign: 'left'


                    MDCard:
                        size_hint_y: None
                        height: dp(48)
                        padding: dp(8)
                        md_bg_color: app.theme_cls.primary_light  # Background color for the button
                        BoxLayout:
                            orientation: 'horizontal'
                            MDIcon:
                                icon: 'star'
                                theme_text_color: 'Primary'
                            MDFlatButton:
                                on_release: app.switch_screen('feature3')
                                text: 'Feature 3'
                                size_hint_y: None
                                theme_text_color: 'Primary'
                                halign: 'left'

                    MDCard:
                        size_hint_y: None
                        height: dp(48)
                        padding: dp(8)
                        md_bg_color: app.theme_cls.primary_light  # Background color for the button
                        BoxLayout:
                            orientation: 'horizontal'
                            MDIcon:
                                icon: 'star-outline'
                                theme_text_color: 'Primary'
                            MDFlatButton:
                                on_release: app.switch_screen('feature4')
                                text: 'Feature 4'
                                size_hint_y: None
                                theme_text_color: 'Primary'
                                halign: 'left'
